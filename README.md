# MES R018 Analysis - Individual Performance Report ğŸ“Š

ê°œì¸ë³„ ìƒì‚°ì„± ë¶„ì„ ë° ë¦¬í¬íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ with Cloudflare D1 Database

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

MES Individual Performance ReportëŠ” ì œì¡° ì‹¤í–‰ ì‹œìŠ¤í…œ(MES)ì˜ ì‘ì—…ìë³„ ìƒì‚° ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³ , ì§ê´€ì ì¸ ëŒ€ì‹œë³´ë“œë¡œ ì„±ê³¼ë¥¼ ì‹œê°í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- âœ… **ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ**: Raw ë°ì´í„° ì‹œíŠ¸ì—ì„œ ìë™ìœ¼ë¡œ ë°ì´í„° ì¶”ì¶œ ë° ì²˜ë¦¬
- ğŸ’¾ **ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥**: Cloudflare D1ì— ì˜êµ¬ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°
- ğŸ“Š **ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ**: Time Utilization Rate & Work Efficiency Rate
- ğŸ”„ **ì‹¤ì‹œê°„ ì§€í‘œ í† ê¸€**: ì‹œê³„ ì•„ì´ì½˜ â‡„ ë²ˆê°œ ì•„ì´ì½˜ìœ¼ë¡œ ì „í™˜
- ğŸ“ˆ **4ê°œ KPI ì¹´ë“œ**: ì˜ë¯¸ ìˆëŠ” ë©”íŠ¸ë¦­ìœ¼ë¡œ ì¬ì„¤ê³„
- ğŸ¯ **ì„±ê³¼ ë°´ë“œ**: Excellent/Good/Normal/Poor/Critical (5ë‹¨ê³„)
- ğŸ‘¤ **ì‘ì—…ì ìƒì„¸ ëª¨ë‹¬**: ì°¨íŠ¸, ì´ë ¥, ì§€í‘œë³„ ë¶„ê¸°
- ğŸ” **ê³ ê¸‰ í•„í„°ë§**: Shift, ë‚ ì§œ, ê³µì •, ì‘ì—…ì ë‹¤ì¤‘ ì„ íƒ
- â±ï¸ **ë¡œë”© ì¸ë””ì¼€ì´í„°**: í•„í„° ì ìš©/ì´ˆê¸°í™” ì‹œ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- ğŸŒ **Full English Interface**: ì „ì²´ ì˜ì–´ ì¸í„°í˜ì´ìŠ¤

## ğŸŒ ë°°í¬ URL

### í”„ë¡œë•ì…˜
- **ë©”ì¸ URL**: https://mes-r018-analysis.pages.dev
- **ìµœì‹  ë°°í¬**: https://29969ca7.mes-r018-analysis.pages.dev (2026-02-21)

### GitHub ì €ì¥ì†Œ
- **ì €ì¥ì†Œ**: https://github.com/twokomi/MES_R018_Analysis

## ğŸ“Š KPI ì¹´ë“œ êµ¬ì¡°

### â±ï¸ Time Utilization Mode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total       â”‚ Total Shift Time â”‚ Total Work Time  â”‚ Avg Utilization    â”‚
â”‚ Workers     â”‚ (WorkersÃ—660min) â”‚ (Actual Work)    â”‚ Rate               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **Average Utilization Rate** = (Total Work Time Ã· Total Shift Time) Ã— 100

### âš¡ Work Efficiency Mode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total       â”‚ Total Adjusted   â”‚ Total Actual     â”‚ Avg Efficiency     â”‚
â”‚ Workers     â”‚ S/T (Assigned)   â”‚ Time             â”‚ Rate               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    [Outlier Threshold: 1000% â–¼ Apply]
```
- **Average Efficiency Rate** = (Total Adjusted S/T Ã· Total Actual Time) Ã— 100
- **Outlier Threshold**: Efficiency ëª¨ë“œì—ì„œë§Œ í‘œì‹œ ë° ì ìš©

## ğŸš€ API ì—”ë“œí¬ì¸íŠ¸

### POST /api/upload
ì—‘ì…€ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥

**Response:**
```json
{
  "success": true,
  "uploadId": 1,
  "stats": {
    "totalRecords": 150,
    "uniqueWorkers": 25
  }
}
```

### GET /api/uploads
ìµœê·¼ ì—…ë¡œë“œ ëª©ë¡ ì¡°íšŒ (ìµœëŒ€ 50ê°œ)

### GET /api/uploads/:id
íŠ¹ì • ì—…ë¡œë“œ ë°ì´í„° ì¡°íšŒ

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### Cloudflare D1 ë°ì´í„°ë² ì´ìŠ¤

**excel_uploads** - ì—…ë¡œë“œ ê¸°ë¡
- id, filename, upload_date, file_size
- total_records, unique_workers, date_range

**raw_data** - ì›ë³¸ ì‘ì—… ë°ì´í„°
- worker_name, fo_desc, start_datetime, end_datetime
- worker_act, working_day, working_shift
- worker_st, worker_rate_pct (v3.1.0+)

**process_mapping** - ê³µì • ë§¤í•‘
- fd_desc, fo_desc, fo_desc_2, fo_desc_3, seq

**shift_calendar** - ì‹œí”„íŠ¸ ìº˜ë¦°ë”
- date, day_shift, night_shift

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| **Frontend** | HTML5, CSS3, JavaScript (ES6+) |
| **Backend** | Hono Framework (TypeScript) |
| **Database** | Cloudflare D1 (SQLite) |
| **Deployment** | Cloudflare Pages |
| **UI Framework** | Tailwind CSS (CDN) |
| **Charts** | Chart.js |
| **Excel Parsing** | SheetJS (xlsx.js) |

## ğŸ’» ë¡œì»¬ ê°œë°œ

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/twokomi/MES_R018_Analysis.git
cd MES_R018_Analysis

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# D1 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (ë¡œì»¬)
npm run db:migrate:local

# ê°œë°œ ì„œë²„ ì‹œì‘
npm run build
npm run dev:sandbox
```

### í”„ë¡œë•ì…˜ ë°°í¬

```bash
# D1 ë§ˆì´ê·¸ë ˆì´ì…˜ (í”„ë¡œë•ì…˜)
npm run db:migrate:prod

# ë¹Œë“œ ë° ë°°í¬
npm run deploy
```

## ğŸ“– ì‚¬ìš© ê°€ì´ë“œ

### 1ï¸âƒ£ ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ë° ì €ì¥
1. "ë°ì´í„° ì—…ë¡œë“œ" íƒ­ í´ë¦­
2. Excel íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë˜ëŠ” ì„ íƒ
3. ìë™ìœ¼ë¡œ ë°ì´í„° ì²˜ë¦¬ ë° ë¦¬í¬íŠ¸ í‘œì‹œ
4. "**Save to Database**" ë²„íŠ¼ í´ë¦­

### 2ï¸âƒ£ ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
1. **Saved Uploads** ì„¹ì…˜ì—ì„œ íŒŒì¼ ì¹´ë“œ í´ë¦­
2. ìë™ìœ¼ë¡œ Report íƒ­ ì´ë™

### 3ï¸âƒ£ ë‘ ê°€ì§€ ì§€í‘œ í™œìš©
- **â±ï¸ Time Utilization**: ì‹œê°„ í™œìš©ë„ (íŒŒë€ìƒ‰ í…Œë§ˆ)
- **âš¡ Work Efficiency**: ì‘ì—… íš¨ìœ¨ (ë³´ë¼ìƒ‰ í…Œë§ˆ)
- ìš°ì¸¡ ìƒë‹¨ í† ê¸€ ë²„íŠ¼ìœ¼ë¡œ ì „í™˜

### 4ï¸âƒ£ í•„í„° ì ìš©
- Shift(A/B/C), ë‚ ì§œ, ê³µì •, ì‘ì—…ì ì„ íƒ
- "**Apply Filters**" ë²„íŠ¼ í´ë¦­ (ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ)
- "**Reset**" ë²„íŠ¼ìœ¼ë¡œ í•„í„° ì´ˆê¸°í™”

## ğŸ‰ ì—…ë°ì´íŠ¸ ë‚´ì—­

### v3.2.0 (2026-02-21) ğŸ¨ **KPI Redesign & UX Enhancement**
- âœ… **KPI ì¹´ë“œ ì¬ì„¤ê³„**:
  - 4ê°œ ì¹´ë“œ êµ¬ì¡° ë³µì› (ì˜ë¯¸ ìˆëŠ” ë©”íŠ¸ë¦­ìœ¼ë¡œ ê°œì„ )
  - **Utilization**: Total Workers, Total Shift Time, Total Work Time, Avg Utilization Rate
  - **Efficiency**: Total Workers, Total Adjusted S/T, Total Actual Time, Avg Efficiency Rate
  - Average Rateê°€ Card 2ì™€ Card 3 ê°’ìœ¼ë¡œ ì •í™•í•˜ê²Œ ê³„ì‚°ë¨
- âœ… **ë¡œë”© ì¸ë””ì¼€ì´í„° ì¶”ê°€**:
  - Apply Filters, Reset, Outlier Threshold ì ìš© ì‹œ ìš°ì¸¡ ìƒë‹¨ ë¡œë”© í‘œì‹œ
  - ë¶€ë“œëŸ¬ìš´ fade-out ì• ë‹ˆë©”ì´ì…˜ (300ms)
  - WAIV ë¡œê³  + í…ìŠ¤íŠ¸ + ìŠ¤í”¼ë„ˆ
- âœ… **Glossary ê°œì„ **: "Assigned(m)" â†’ "Adjusted S/T(m)" ìš©ì–´ í†µì¼
- âœ… **ë²„ê·¸ ìˆ˜ì •**: Worker S/T ì§‘ê³„ ëˆ„ë½ ë¬¸ì œ í•´ê²° (aggregateByWorkerOnly)
- âœ… **ë™ì  í…Œë§ˆ**: Utilization(íŒŒë€ìƒ‰), Efficiency(ë³´ë¼ìƒ‰) ìë™ ì „í™˜

### v3.1.0 (2026-02-21) ğŸ”§ **Critical Database Fix**
- âœ… DB ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸: worker_st, worker_rate_pct ì»¬ëŸ¼ ì¶”ê°€
- âœ… ëª¨ë‹¬ Outlier í•„í„°ë§ ìˆ˜ì •
- âœ… ë””ë²„ê·¸ ë¡œê¹… ê°•í™”

### v3.0.0 (2026-02-20) ğŸŠ **Major Update**
- âœ… ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ ì‹œìŠ¤í…œ ë„ì…
- âœ… ì§€í‘œ í† ê¸€ ê¸°ëŠ¥
- âœ… ì„±ê³¼ ë°´ë“œ ì¬ì„¤ê³„
- âœ… Rework ìë™ ì œì™¸

### v2.6.0 (2026-02-18)
- âœ… Week í•„í„° ì¶”ê°€
- âœ… Average Work Rate ê³„ì‚° ìˆ˜ì •

### v2.5.0 (2026-02-18)
- âœ… ì„±ê³¼ ë°´ë“œ ì •ë ¬ ê¸°ëŠ¥
- âœ… ì‘ì—…ì ìƒì„¸ ëª¨ë‹¬

---

**ì œì‘ì**: twokomi  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-21 (v3.2.0)  
**ë¼ì´ì„ ìŠ¤**: MIT
