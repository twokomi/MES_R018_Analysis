# MES R018 Analysis - Individual Performance Report ðŸ“Š

ê°œì¸ë³„ ìƒì‚°ì„± ë¶„ì„ ë° ë¦¬í¬íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ with Cloudflare D1 Database

## ðŸŽ¯ í”„ë¡œì íŠ¸ ê°œìš”

MES Individual Performance ReportëŠ” ì œì¡° ì‹¤í–‰ ì‹œìŠ¤í…œ(MES)ì˜ ìž‘ì—…ìžë³„ ìƒì‚° ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³ , ì§ê´€ì ì¸ ëŒ€ì‹œë³´ë“œë¡œ ì„±ê³¼ë¥¼ ì‹œê°í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìž…ë‹ˆë‹¤.

**âœ¨ ìƒˆë¡œìš´ ê¸°ëŠ¥ (v3.1.0)**: 
- ðŸ”§ **DB ì €ìž¥/ë¡œë“œ íš¨ìœ¨ì„± í•„ë“œ ìˆ˜ì •**: Worker S/T, Worker Rate(%) í•„ë“œ ì™„ì „ ë³µì›
- ðŸ—„ï¸ **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸**: worker_st, worker_rate_pct ì»¬ëŸ¼ ì¶”ê°€ (ë§ˆì´ê·¸ë ˆì´ì…˜ 0002)
- ðŸŽ¯ **ëª¨ë‹¬ Outlier í•„í„°ë§ ê°•í™”**: Worker Detail ëª¨ë‹¬ì—ì„œ Outlier Threshold ì •í™•ížˆ ë°˜ì˜
- ðŸ” **ë””ë²„ê·¸ ë¡œê¹… ì¶”ê°€**: DB ë¡œë“œ ë° processData ë‹¨ê³„ë³„ íš¨ìœ¨ì„± í•„ë“œ ì¶”ì 
- ðŸ“Š **ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ ì‹œìŠ¤í…œ**: Time Utilization Rate (ì‹œê°„ í™œìš©ë„) & Work Efficiency Rate (ìž‘ì—… íš¨ìœ¨ë„)
- ðŸ”„ **ì§€í‘œ í† ê¸€**: ì‹¤ì‹œê°„ìœ¼ë¡œ ë‘ ì§€í‘œ ê°„ ì „í™˜ (ì‹œê³„ ì•„ì´ì½˜ â‡„ ë²ˆê°œ ì•„ì´ì½˜)
- ðŸŽ¨ **ì§€í‘œë³„ ì‹œê°í™”**: Time Utilization (íŒŒëž€ìƒ‰ í…Œë§ˆ) vs Work Efficiency (ë³´ë¼ìƒ‰ í…Œë§ˆ)
- ðŸ” **ì •ë°€ í•„í„°ë§**: Rework ìžë™ ì œì™¸, Worker S/T > 0 ì¡°ê±´ ì ìš©
- ðŸ“ˆ **ì„±ê³¼ ë°´ë“œ ìž¬ì„¤ê³„**: Excellent, Good, Normal, Poor, Critical (5ë‹¨ê³„)

### ì£¼ìš” íŠ¹ì§•

- âœ… **ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ**: Raw ë°ì´í„° ì‹œíŠ¸ì—ì„œ ìžë™ìœ¼ë¡œ ë°ì´í„° ì¶”ì¶œ ë° ì²˜ë¦¬
- ðŸ’¾ **ìˆ˜ë™ ë°ì´í„° ì €ìž¥**: "Save to Database" ë²„íŠ¼ìœ¼ë¡œ ë°ì´í„° ì €ìž¥
- ðŸ“ **ì—…ë¡œë“œ íŒŒì¼ ë¦¬ìŠ¤íŠ¸**: ì €ìž¥ëœ íŒŒì¼ ëª©ë¡ í‘œì‹œ ë° ê´€ë¦¬
- ðŸ—‘ï¸ **ì—…ë¡œë“œ íŒŒì¼ ì‚­ì œ**: ê°œë³„ ì—…ë¡œë“œ ì‚­ì œ ê¸°ëŠ¥ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í¬í•¨)
- ðŸ“¥ **ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°**: ì¹´ë“œ í´ë¦­ìœ¼ë¡œ ì´ì „ ë°ì´í„° ë³µì› ë° ë¦¬í¬íŠ¸ ìžë™ í‘œì‹œ
- â±ï¸ **ì‹œê°„ ì¤‘ë³µ ìžë™ ì œê±°**: Multi-job ìž‘ì—…ì˜ ê²¹ì¹˜ëŠ” ì‹œê°„ êµ¬ê°„ ìžë™ ë³‘í•© (ìž‘ì—…ìžë³„)
- ðŸ”„ **ìžë™ ë°ì´í„° ì²˜ë¦¬**: ìž‘ì—…ì¼, êµëŒ€(Shift), ìž‘ì—…ë¥  ìžë™ ê³„ì‚°
- ðŸ“Š **ë‹¤ì–‘í•œ ë¦¬í¬íŠ¸**: KPI íƒ€ì¼, ì„±ê³¼ ë°´ë“œ, ì°¨íŠ¸, ë‚ ì§œë³„ í”¼ë²— ë¦¬í¬íŠ¸
- ðŸŽ¯ **ì„±ê³¼ ë°´ë“œ ì •ë ¬**: ê° ë°´ë“œë³„ ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ ê¸°ëŠ¥
- ðŸ‘¤ **ìž‘ì—…ìž ìƒì„¸ ì •ë³´**: ìž‘ì—…ìž í´ë¦­ ì‹œ ìƒì„¸ ëª¨ë‹¬ (ì°¨íŠ¸, ì´ë ¥ í‘œì‹œ, ì§€í‘œë³„ ë¶„ê¸°)
- ðŸŽ¨ **ëª¨ë˜ UI ë””ìžì¸**: ê·¸ë¼ë°ì´ì…˜, ì• ë‹ˆë©”ì´ì…˜, ë°˜ì‘í˜• ì¹´ë“œ ë””ìžì¸
- ðŸŒ **Full English Interface**: ì „ì²´ ì˜ì–´ ì¸í„°íŽ˜ì´ìŠ¤
- ðŸ” **ê³ ê¸‰ í•„í„°ë§**: Shift(A/B/C), ì›”ë³„ ê·¸ë£¹ ë‚ ì§œ ì„ íƒ, ì²´í¬ë°•ìŠ¤ í•„í„°
- ðŸ“… **3ê°œì›” Shift Calendar**: 2026ë…„ 2ì›”~4ì›” ì¼ì • ê´€ë¦¬

## ðŸ“Š í˜„ìž¬ ì™„ë£Œëœ ê¸°ëŠ¥

### âœ… ë°ì´í„° ê´€ë¦¬
- [x] ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ë° íŒŒì‹± (Worker S/T, Worker Rate(%), Rework í¬í•¨)
- [x] Cloudflare D1 ë°ì´í„°ë² ì´ìŠ¤ í†µí•©
- [x] ìˆ˜ë™ ë°ì´í„° ì €ìž¥ (Save to Database ë²„íŠ¼)
- [x] ì—…ë¡œë“œ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
- [x] ì¹´ë“œ í´ë¦­ìœ¼ë¡œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
- [x] ë°ì´í„° ë¡œë“œ í›„ ìžë™ Report íƒ­ ì „í™˜
- [x] JSON ë‚´ë³´ë‚´ê¸°/ë¶ˆëŸ¬ì˜¤ê¸°
- [x] Rework ìžë™ í•„í„°ë§ (W column = true ì œì™¸)

### âœ… ë¦¬í¬íŠ¸ ê¸°ëŠ¥
- [x] **ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ ì‹œìŠ¤í…œ**:
  - **Time Utilization Rate**: ì‹¤ì œ ìž‘ì—… ì‹œê°„ / ê°€ìš© ì‹œê°„ Ã— 100%
  - **Work Efficiency Rate**: í• ë‹¹ í‘œì¤€ ì‹œê°„ / ì‹¤ì œ ìž‘ì—… ì‹œê°„ Ã— 100%
- [x] **ì§€í‘œ í† ê¸€ ë²„íŠ¼**: ì‹¤ì‹œê°„ ì§€í‘œ ì „í™˜ (ì•„ì´ì½˜ + ì„¤ëª… í¬í•¨)
- [x] KPI íƒ€ì¼ (ì´ ìž‘ì—…ìž, ìœ íš¨ ìž‘ì—…, ìž‘ì—… ì‹œê°„/í• ë‹¹ í‘œì¤€ ì‹œê°„, í‰ê·  ì§€í‘œ)
- [x] ì„±ê³¼ ë°´ë“œ (Excellent/Good/Normal/Poor/Critical)
- [x] **ì„±ê³¼ ë°´ë“œ ì •ë ¬**: ê° ë°´ë“œë³„ ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ ê¸°ëŠ¥
- [x] **ìž‘ì—…ìž ìƒì„¸ ëª¨ë‹¬**: ìž‘ì—…ìž í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´, ì§€í‘œë³„ ì°¨íŠ¸, ìž‘ì—… ì´ë ¥ í‘œì‹œ
  - Time Utilization: ì¼ë³„/ì‹œê°„ë³„ ìž‘ì—… ì‹œê°„ (ë¶„), ì¤‘ë³µ ì œê±° í‘œì‹œ
  - Work Efficiency: ì¼ë³„/ì‹œê°„ë³„ íš¨ìœ¨ (%), S/TÂ·RateÂ·AssignedÂ·ActualÂ·Efficiency í‘œì‹œ
- [x] ê³µì •ë³„ í‰ê·  ìž‘ì—…ë¥  ì°¨íŠ¸
- [x] ì„±ê³¼ ë“±ê¸‰ ë¶„í¬ ë„ë„› ì°¨íŠ¸
- [x] ë‚ ì§œë³„ í”¼ë²— ë¦¬í¬íŠ¸
- [x] ìƒì„¸ ë°ì´í„° ë·°

### âœ… í•„í„°ë§
- [x] Shift í•„í„° (A/B/C)
- [x] ìž‘ì—… ì¼ìž ë‹¤ì¤‘ ì„ íƒ (ì›”ë³„ ê·¸ë£¹í•‘)
- [x] ì›”ë³„ ì „ì²´ ì„ íƒ/í•´ì œ (Feb, Mar, Apr)
- [x] êµëŒ€ í•„í„° (Day/Night)
- [x] ê³µì • ì²´í¬ë°•ìŠ¤ í•„í„°
- [x] ìž‘ì—…ìž ì²´í¬ë°•ìŠ¤ í•„í„°

### âœ… ê³µì • ê´€ë¦¬
- [x] ê³µì • ë§¤í•‘ ê´€ë¦¬
- [x] ì •ë ¬ ê°€ëŠ¥í•œ ë§¤í•‘ í…Œì´ë¸”
- [x] ë™ì  ë§¤í•‘ ì¶”ê°€/ì‚­ì œ

## ðŸš€ API ì—”ë“œí¬ì¸íŠ¸

### POST /api/upload
ì—‘ì…€ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ìž¥

**Request Body:**
```json
{
  "filename": "data.xlsx",
  "fileSize": 1024000,
  "rawData": [...],
  "processedData": [...],
  "processMapping": [...],
  "shiftCalendar": [...]
}
```

**Response:**
```json
{
  "success": true,
  "uploadId": 1,
  "message": "Data saved successfully",
  "stats": {
    "totalRecords": 150,
    "uniqueWorkers": 25
  }
}
```

### GET /api/uploads
ìµœê·¼ ì—…ë¡œë“œ ëª©ë¡ ì¡°íšŒ (ìµœëŒ€ 50ê°œ)

### GET /api/uploads/:id
íŠ¹ì • ì—…ë¡œë“œ ë°ì´í„° ì¡°íšŒ

## ðŸŒ ë°°í¬ URL

### í”„ë¡œë•ì…˜
- **ë©”ì¸ URL**: https://mes-r018-analysis.pages.dev
- **ìµœì‹  ë°°í¬**: https://4c15e7d8.mes-r018-analysis.pages.dev

### í…ŒìŠ¤íŠ¸ ì„œë²„ (ìƒŒë“œë°•ìŠ¤)
- **ê°œë°œ URL**: https://3000-i6mqjfqm4prwz2zcvnapn-583b4d74.sandbox.novita.ai
- *í…ŒìŠ¤íŠ¸ ì„œë²„ëŠ” 1ì‹œê°„ ë™ì•ˆ í™œì„±í™”ë©ë‹ˆë‹¤*

### GitHub ì €ìž¥ì†Œ
- **ì €ìž¥ì†Œ**: https://github.com/twokomi/MES_R018_Analysis

## ðŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### Cloudflare D1 ë°ì´í„°ë² ì´ìŠ¤

**excel_uploads** - ì—…ë¡œë“œ ê¸°ë¡
- id, filename, upload_date, file_size
- total_records, unique_workers
- date_range_start, date_range_end

**raw_data** - ì›ë³¸ ìž‘ì—… ë°ì´í„°
- id, upload_id, worker_name, fo_desc, fd_desc
- start_datetime, end_datetime, worker_act
- result_cnt, working_day, working_shift
- actual_shift, work_rate
- **worker_st** (Worker S/T - í‘œì¤€ ì‹œê°„) âœ¨ NEW in v3.1.0
- **worker_rate_pct** (Worker Rate(%) - ìž‘ì—… íš¨ìœ¨ ë¹„ìœ¨) âœ¨ NEW in v3.1.0

**process_mapping** - ê³µì • ë§¤í•‘
- id, upload_id, fd_desc, fo_desc
- fo_desc_2, fo_desc_3, seq

**shift_calendar** - ì‹œí”„íŠ¸ ìº˜ë¦°ë”
- id, upload_id, date
- day_shift, night_shift

## ðŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| **Frontend** | HTML5, CSS3, JavaScript (ES6+) |
| **Backend** | Hono Framework (TypeScript) |
| **Database** | Cloudflare D1 (SQLite) |
| **Deployment** | Cloudflare Pages |
| **UI Framework** | Tailwind CSS (CDN) |
| **Charts** | Chart.js |
| **Excel Parsing** | SheetJS (xlsx.js) |

## ðŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mes-r018-analysis/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.tsx           # Hono ë°±ì—”ë“œ (API + ì •ì  íŒŒì¼ ì„œë¹™)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html          # ë©”ì¸ HTML
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ app.js          # í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§
â”‚   â””â”€â”€ process_mapping_reference.png
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ 0001_initial_schema.sql     # D1 ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸° ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ 0002_add_efficiency_fields.sql # Worker S/T, Worker Rate(%) í•„ë“œ ì¶”ê°€ âœ¨ NEW
â”œâ”€â”€ dist/                   # ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ wrangler.jsonc          # Cloudflare ì„¤ì •
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ ecosystem.config.cjs    # PM2 ì„¤ì • (ê°œë°œìš©)
```

## ðŸ’» ë¡œì»¬ ê°œë°œ

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- npm ë˜ëŠ” yarn
- Wrangler CLI

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì €ìž¥ì†Œ í´ë¡ 
git clone https://github.com/twokomi/MES_R018_Analysis.git
cd MES_R018_Analysis

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# D1 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ (ë¡œì»¬)
npm run db:migrate:local

# ê°œë°œ ì„œë²„ ì‹œìž‘
npm run build
npm run dev:sandbox

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:3000
```

### í”„ë¡œë•ì…˜ ë°°í¬

```bash
# D1 ë§ˆì´ê·¸ë ˆì´ì…˜ (í”„ë¡œë•ì…˜)
npm run db:migrate:prod

# ë¹Œë“œ ë° ë°°í¬
npm run deploy
```

## ðŸ“‹ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì€ ê¸°ëŠ¥

### â³ ì˜ˆì •ëœ ê¸°ëŠ¥
- [ ] ì—…ë¡œë“œ ê¸°ë¡ ì‚­ì œ ê¸°ëŠ¥
- [ ] ë°ì´í„° ížˆìŠ¤í† ë¦¬ ë¹„êµ ë¶„ì„
- [ ] PDF ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°
- [ ] ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ (ì—¬ëŸ¬ ë‚ ì§œ í†µí•©)
- [ ] ë‚ ì§œ ë²”ìœ„ë³„ ì¶”ì„¸ ë¶„ì„
- [ ] í•„í„° í”„ë¦¬ì…‹ ì €ìž¥ ê¸°ëŠ¥
- [ ] ë‹¤í¬ ëª¨ë“œ ì§€ì›
- [ ] ëª¨ë°”ì¼ ìµœì í™”

## ðŸ”„ ê¶Œìž¥ ë‹¤ìŒ ë‹¨ê³„

1. **ì—…ë¡œë“œ ê´€ë¦¬ ê¸°ëŠ¥ ê°•í™”**
   - ì—…ë¡œë“œ ê¸°ë¡ ì‚­ì œ ê¸°ëŠ¥
   - ì—…ë¡œë“œ íŒŒì¼ ë©”íƒ€ë°ì´í„° ìˆ˜ì •
   
2. **ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥ ê°•í™”**
   - ì—¬ëŸ¬ ì—…ë¡œë“œ ë°ì´í„° ë¹„êµ
   - ê¸°ê°„ë³„ ì¶”ì„¸ ë¶„ì„
   - ìž‘ì—…ìžë³„ ì„±ê³¼ ì¶”ì´

3. **ì‚¬ìš©ìž ê²½í—˜ ê°œì„ **
   - ë¡œë”© ìƒíƒœ í‘œì‹œ ê°œì„ 
   - ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
   - ì•Œë¦¼ ì‹œìŠ¤í…œ ì¶”ê°€

## ðŸ“– ì‚¬ìš© ê°€ì´ë“œ

### âš ï¸ ì¤‘ìš”: v3.1.0 ì—…ë°ì´íŠ¸ í›„ í•„ìˆ˜ ì¡°ì¹˜
**v3.1.0 ì´ì „ì— ì €ìž¥ëœ ë°ì´í„°ëŠ” Efficiencyê°€ 0%ë¡œ í‘œì‹œë©ë‹ˆë‹¤.**
- **ì›ì¸**: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì— `worker_st`, `worker_rate_pct` ì»¬ëŸ¼ì´ ì—†ì—ˆìŒ
- **í•´ê²°**: ê¸°ì¡´ uploadsë¥¼ ì‚­ì œí•˜ê³  Excel íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•˜ì„¸ìš”
- **ë˜ëŠ”**: "Saved Uploads" ì„¹ì…˜ì—ì„œ Delete ë²„íŠ¼ìœ¼ë¡œ ê°œë³„ ì‚­ì œ

### 1ï¸âƒ£ ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ë° ì €ìž¥
1. "ë°ì´í„° ì—…ë¡œë“œ" íƒ­ í´ë¦­
2. Excel íŒŒì¼ ë“œëž˜ê·¸ ì•¤ ë“œë¡­ ë˜ëŠ” ì„ íƒ
3. ìžë™ìœ¼ë¡œ ë°ì´í„° ì²˜ë¦¬ ë° ë¦¬í¬íŠ¸ í‘œì‹œ
4. í™•ì¸ í›„ "**Save to Database**" ë²„íŠ¼ í´ë¦­
5. ì €ìž¥ ì™„ë£Œ í›„ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë¨

### 2ï¸âƒ£ ì €ìž¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
1. "ë°ì´í„° ì—…ë¡œë“œ" íƒ­ì˜ **Saved Uploads** ì„¹ì…˜ í™•ì¸
2. ì›í•˜ëŠ” íŒŒì¼ ì¹´ë“œ í´ë¦­
3. ë°ì´í„°ê°€ ìžë™ìœ¼ë¡œ ë¡œë“œë˜ê³  Report íƒ­ìœ¼ë¡œ ì´ë™
4. ë¦¬í¬íŠ¸ í™•ì¸ ë° í•„í„° ì ìš©

### 3ï¸âƒ£ ë¦¬í¬íŠ¸ í™•ì¸
- KPI íƒ€ì¼: ì£¼ìš” ì„±ê³¼ ì§€í‘œ
- ì„±ê³¼ ë°´ë“œ: ìž‘ì—…ìžë³„ ì„±ê³¼ ë“±ê¸‰
- ì°¨íŠ¸: ê³µì •ë³„/ë“±ê¸‰ë³„ ì‹œê°í™”
- ë‚ ì§œë³„ ë¦¬í¬íŠ¸: í”¼ë²— í…Œì´ë¸” ë·°

### 4ï¸âƒ£ ë°ì´í„° í•„í„°ë§
- Shift(A/B/C), ë‚ ì§œ(ì›”ë³„ ê·¸ë£¹), êµëŒ€(Day/Night), ê³µì •, ìž‘ì—…ìž í•„í„° ì‚¬ìš©
- ì›”ë³„ ë²„íŠ¼(Feb, Mar, Apr)ìœ¼ë¡œ í•´ë‹¹ ì›” ì „ì²´ ì„ íƒ/í•´ì œ
- "í•„í„° ì ìš©" ë²„íŠ¼ìœ¼ë¡œ ë¦¬í¬íŠ¸ ì—…ë°ì´íŠ¸
4. ë¦¬í¬íŠ¸ í™•ì¸ ë° í•„í„° ì ìš©

### 3ï¸âƒ£ ë¦¬í¬íŠ¸ í™•ì¸
- KPI íƒ€ì¼: ì£¼ìš” ì„±ê³¼ ì§€í‘œ
- ì„±ê³¼ ë°´ë“œ: ìž‘ì—…ìžë³„ ì„±ê³¼ ë“±ê¸‰
- ì°¨íŠ¸: ê³µì •ë³„/ë“±ê¸‰ë³„ ì‹œê°í™”
- ë‚ ì§œë³„ ë¦¬í¬íŠ¸: í”¼ë²— í…Œì´ë¸” ë·°

### 3ï¸âƒ£ ë¦¬í¬íŠ¸ í™•ì¸
- Shift, ë‚ ì§œ, êµëŒ€, ê³µì •, ìž‘ì—…ìž í•„í„° ì‚¬ìš©
- "í•„í„° ì ìš©" ë²„íŠ¼ìœ¼ë¡œ ë¦¬í¬íŠ¸ ì—…ë°ì´íŠ¸

## ðŸ¤ ê¸°ì—¬

ì´ìŠˆ ë° Pull Requestë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ðŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

## ðŸŽ‰ ì—…ë°ì´íŠ¸ ë‚´ì—­

### v3.1.0 (2026-02-21) ðŸ”§ Critical Database Fix
- âœ… **DB ì €ìž¥/ë¡œë“œ Efficiency í•„ë“œ ì™„ì „ ìˆ˜ì •**:
  - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì— `worker_st`, `worker_rate_pct` ì»¬ëŸ¼ ì¶”ê°€
  - ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼: `0002_add_efficiency_fields.sql`
  - ë°±ì—”ë“œ API: Worker S/T, Worker Rate(%) ì €ìž¥/ë¡œë“œ êµ¬í˜„
  - í”„ë¡ íŠ¸ì—”ë“œ: loadUploadByIdì—ì„œ í•„ë“œ ë³µì› ('Worker S/T', 'Worker Rate(%)', 'Worker Act')
- âœ… **ëª¨ë‹¬ Outlier í•„í„°ë§ ìˆ˜ì •**:
  - Worker Detail ëª¨ë‹¬ì—ì„œ Outlier Threshold ì •í™•ížˆ ë°˜ì˜
  - `dataForSummary` ê³„ì‚° ì‹œ `isOutlier` í”Œëž˜ê·¸ë¡œ í•„í„°ë§
  - ë©”ì¸ íŽ˜ì´ì§€ % = ëª¨ë‹¬ % ì¼ì¹˜ ë³´ìž¥
- âœ… **ë””ë²„ê·¸ ë¡œê¹… ì¶”ê°€**:
  - DB ë¡œë“œ í›„ rawDataì˜ Worker S/T, Worker Rate(%) ê°’ í™•ì¸
  - processData í›„ íš¨ìœ¨ì„± í•„ë“œ ìœ ì§€ ì—¬ë¶€ í™•ì¸
  - aggregateByWorkerì—ì„œ Worker S/T=0 ê²½ê³  (ì²˜ìŒ 5ê°œ ë ˆì½”ë“œ)
- âœ… **Hourly Work Distribution ì°¨íŠ¸ ìˆ˜ì •**:
  - ì˜¬ë°”ë¥¸ í•„ë“œëª… ì‚¬ìš© (Worker S/T, Worker Rate(%))
  - ì°¨íŠ¸ ë°ì´í„° í•„í„°ë§ ë° ì§‘ê³„ ë¡œì§ ê°œì„ 
- ðŸ—‘ï¸ **ê¸°ì¡´ DB ë°ì´í„° ì •ë¦¬ í•„ìš”**:
  - v3.1.0 ì´ì „ì— ì €ìž¥ëœ ë°ì´í„°ëŠ” worker_st, worker_rate_pctê°€ 0
  - ìƒˆë¡œ ì—…ë¡œë“œí•œ íŒŒì¼ë§Œ ì •ìƒì ìœ¼ë¡œ Efficiency ê³„ì‚° ê°€ëŠ¥
  - ê¶Œìž¥: ê¸°ì¡´ uploads ì‚­ì œ í›„ ìž¬ì—…ë¡œë“œ

### v3.0.2 (2026-02-21) âœ¨ Critical Fix
- âœ… **Outlier Threshold í•„í„°ë§ ìˆ˜ì •**:
  - Outlier Thresholdê°€ Efficiency ëª¨ë“œì¼ ë•Œë§Œ ì ìš©ë˜ë„ë¡ ìˆ˜ì •
  - Utilization ëª¨ë“œì—ì„œëŠ” Outlier Threshold UI ìˆ¨ê¹€ ì²˜ë¦¬
  - W/O ë ˆë²¨ì—ì„œë§Œ í•„í„°ë§ ì ìš© (Worker Total ë ˆë²¨ì€ ì´ë¯¸ í•„í„°ë§ëœ ë°ì´í„°ì˜ í‰ê· ì´ë¯€ë¡œ ë¶ˆí•„ìš”)
- âœ… **D1 ë°ì´í„°ë² ì´ìŠ¤ ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ **:
  - ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ D1 ë°”ì¸ë”©ì´ ì—†ì„ ë•Œ graceful fallback ì ìš©
  - /api/uploads ì—”ë“œí¬ì¸íŠ¸ ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- âœ… **Working Day/Shift ê³„ì‚° ë¡œì§ ê²€ì¦ ì™„ë£Œ**:
  - Day shift: 06:00-17:59 (ê°™ì€ ë‚ ì§œ)
  - Night shift: 18:00-05:59 (00:00-05:59ëŠ” ì „ë‚ )
  - actualShiftëŠ” ShiftCalendarì—ì„œ ì •í™•ížˆ ë§¤í•‘ë¨

### v3.0.0 (2026-02-20) ðŸŽŠ Major Update
- âœ… **ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ ì‹œìŠ¤í…œ ë„ìž…**:
  - **Time Utilization Rate**: ì‹¤ì œ ìž‘ì—… ì‹œê°„ / (Shift ìˆ˜ Ã— 660ë¶„) Ã— 100%
  - **Work Efficiency Rate**: í• ë‹¹ í‘œì¤€ ì‹œê°„ / ì‹¤ì œ ìž‘ì—… ì‹œê°„ Ã— 100%
- âœ… **ì§€í‘œ í† ê¸€ ê¸°ëŠ¥**: ì‹¤ì‹œê°„ìœ¼ë¡œ ë‘ ì§€í‘œ ê°„ ì „í™˜ (ì‹œê³„ â‡„ ë²ˆê°œ ì•„ì´ì½˜)
- âœ… **ì§€í‘œë³„ UI/UX ë¶„ê¸°**:
  - Time Utilization: íŒŒëž€ìƒ‰ í…Œë§ˆ, ì‹œê°„(ë¶„) ë‹¨ìœ„ í‘œì‹œ
  - Work Efficiency: ë³´ë¼ìƒ‰ í…Œë§ˆ, íš¨ìœ¨(%) ë‹¨ìœ„ í‘œì‹œ
- âœ… **ì„±ê³¼ ë°´ë“œ ìž¬ì„¤ê³„**: Excellent (â‰¥15%/120%), Good, Normal, Poor, Critical
- âœ… **ë°ì´í„° í•„í„°ë§ ê°•í™”**:
  - Rework ìžë™ ì œì™¸ (W column = true)
  - Worker S/T > 0 ì¡°ê±´ ì ìš©
  - Worker Rate(%) 0% ì²˜ë¦¬ (ëˆ„ë½ ì•„ë‹˜)
- âœ… **ìž‘ì—…ìž ìƒì„¸ ëª¨ë‹¬ ë¶„ê¸° ì²˜ë¦¬**:
  - Time Utilization: ì¼ë³„/ì‹œê°„ë³„ ìž‘ì—… ì‹œê°„ ì°¨íŠ¸, ì¤‘ë³µ ì œê±° í‘œì‹œ
  - Work Efficiency: ì¼ë³„/ì‹œê°„ë³„ íš¨ìœ¨ ì°¨íŠ¸, S/TÂ·RateÂ·AssignedÂ·Efficiency í‘œì‹œ
- âœ… **Breaking Change**: ê¸°ì¡´ Valid-only ìž‘ì—…ë¥  ê³„ì‚° ì œê±°
- âœ… **ë²„ê·¸ ìˆ˜ì •**:
  - ì¤‘ë³µ ì œê±° ë¡œì§ ìž‘ì—…ìžë³„ ì ìš© (íƒ€ ìž‘ì—…ìžì™€ ë³‘í•© ì•ˆ í•¨)
  - Performance Band ë¹ˆ ë²”ìœ„ ì œê±°
  - Worker Rate(%) ëˆ„ë½ ì‹œ 0% ì²˜ë¦¬

### v2.6.0 (2026-02-18)
- âœ… **Week í•„í„° ì¶”ê°€**: ë‚ ì§œ í•„í„°ì— ì£¼(Week) ë‹¨ìœ„ ì„ íƒ ê¸°ëŠ¥ ì¶”ê°€
  - Week ë²ˆí˜¸ í‘œì‹œ (ì˜ˆ: WK7: 02-10 ~ 02-16)
  - Month ë° Week ë²„íŠ¼ìœ¼ë¡œ ë¹ ë¥¸ ë‚ ì§œ ì„ íƒ
  - ISO Week ê³„ì‚° (ì›”ìš”ì¼ ê¸°ì¤€)
- âœ… **í•„í„° UX ê°œì„ **:
  - Week/Month ë²„íŠ¼ í˜¸ë²„ ì‹œ ì§„í•œ ìƒ‰ìƒ + í°ìƒ‰ í…ìŠ¤íŠ¸
  - í´ë¦­ ì‹œ active íš¨ê³¼ (scale-95, ë” ì§„í•œ ìƒ‰ìƒ)
  - ì„ íƒ í›„ ë“œë¡­ë‹¤ìš´ ìžë™ ë‹«ê¸°
  - Apply Filter ì‹œ ëª¨ë“  ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
- âœ… **í•„í„° ìƒíƒœ ìœ ì§€**: Apply Filter ìž¬í´ë¦­ ì‹œ ì„ íƒ ìƒíƒœ ìœ ì§€
- âœ… **Average Work Rate ê³„ì‚° ìˆ˜ì •**:
  - ì›Œì»¤ ìˆ˜ ê¸°ë°˜ â†’ ì´ ì‹œí”„íŠ¸ ìˆ˜ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½
  - ê³µì •ë³„ ì •í™•í•œ í‰ê·  ìž‘ì—…ë¥  ê³„ì‚°
  - 457% â†’ ì •ìƒ ë²”ìœ„(65% ë“±)ë¡œ ìˆ˜ì •
- âœ… **Pivot í…Œì´ë¸” í—¤ë” ê°œì„ **:
  - rowspanì„ ì‚¬ìš©í•œ Worker Name ì…€ ë³‘í•©
  - sticky headerë¡œ ìŠ¤í¬ë¡¤ ì‹œ ê³ ì •
  - ê¹”ë”í•œ 2ì¤„ í—¤ë” êµ¬ì¡°

### v2.5.0 (2026-02-18)
- âœ… **ì„±ê³¼ ë°´ë“œ ì •ë ¬ ê¸°ëŠ¥ ì¶”ê°€**: Excellent/Poor/Critical ê° ë°´ë“œë³„ ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
- âœ… **ìž‘ì—…ìž ìƒì„¸ ëª¨ë‹¬ êµ¬í˜„**: ìž‘ì—…ìž í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ íŒì—…
  - ì´ ìž‘ì—… ì‹œê°„, ìž‘ì—…ë¥ , ë ˆì½”ë“œ ìˆ˜, ì„±ê³¼ ë“±ê¸‰ í‘œì‹œ
  - ì¼ë³„ ìž‘ì—… ì‹œê°„ ë¼ì¸ ì°¨íŠ¸
  - ê³µì •ë³„ ìž‘ì—… ì‹œê°„ ë„ë„› ì°¨íŠ¸
  - ìƒì„¸ ìž‘ì—… ì´ë ¥ í…Œì´ë¸” (ë‚ ì§œ, êµëŒ€, ê³µì •, ìž‘ì—… ì‹œê°„, ê²°ê³¼)
- âœ… UI/UX ê°œì„ : ì •ë ¬ ë²„íŠ¼, í´ë¦­ ê°€ëŠ¥í•œ ìž‘ì—…ìž ì¹´ë“œ, ë°˜ì‘í˜• ëª¨ë‹¬ ë””ìžì¸

### v2.4.0 (2026-02-18)
- âœ… ì—…ë¡œë“œ ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€
- âœ… ê° ì—…ë¡œë“œ ì¹´ë“œì— Delete ë²„íŠ¼ ì¶”ê°€
- âœ… ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ ì¶”ê°€
- âœ… DELETE API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (CASCADE ì‚­ì œ)
- âœ… ì‹œê°„ ì¤‘ë³µ ì œê±° ê¸°ëŠ¥ ê²€ì¦ ì™„ë£Œ (436ê°œ ì¤‘ë³µ, 33,604ë¶„ ì œê±°)

### v2.3.0 (2026-02-18)
- âœ… ìž‘ì—…ìžë³„ ì‹œê°„ ì¤‘ë³µ ì œê±° ì•Œê³ ë¦¬ì¦˜ ì¶”ê°€
- âœ… Multi-job ìž‘ì—…ì˜ ê²¹ì¹˜ëŠ” ì‹œê°„ êµ¬ê°„ ìžë™ ë³‘í•©
- âœ… Interval Merging ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì •í™•í•œ ìž‘ì—… ì‹œê°„ ê³„ì‚°
- âœ… ì¤‘ë³µ ì œê±° í†µê³„ ì½˜ì†” ë¡œê·¸ ì¶”ê°€

### v2.2.0 (2026-02-17)
- âœ… ì—…ë¡œë“œ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ UI ì¶”ê°€
- âœ… ì¹´ë“œ í´ë¦­ìœ¼ë¡œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥
- âœ… ë°ì´í„° ë¡œë“œ í›„ ìžë™ Report íƒ­ ì „í™˜
- âœ… ì›” í‘œì‹œ ë²„ê·¸ ìˆ˜ì • (Feb 2026 ì •ìƒ í‘œì‹œ)
- âœ… switchTab ì „ì—­ í•¨ìˆ˜ ì¶”ê°€
- âœ… ë°ì´í„° í•„ë“œ ë§¤í•‘ ìˆ˜ì • (foDesc2, foDesc3)

### v2.1.0 (2026-02-17)
- âœ… Cloudflare D1 ë°ì´í„°ë² ì´ìŠ¤ í†µí•©
- âœ… Hono ë°±ì—”ë“œ í”„ë ˆìž„ì›Œí¬ ì ìš©
- âœ… ìˆ˜ë™ ë°ì´í„° ì €ìž¥ ê¸°ëŠ¥ ì¶”ê°€
- âœ… REST API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- âœ… Cloudflare Pages ë°°í¬

### v2.0.0
- âœ… ì²´í¬ë°•ìŠ¤ í•„í„° ì‹œìŠ¤í…œ
- âœ… 3ê°œì›” Shift Calendar
- âœ… ê³µì • ë§¤í•‘ ê´€ë¦¬
- âœ… JSON ë‚´ë³´ë‚´ê¸°/ë¶ˆëŸ¬ì˜¤ê¸°

---

### v3.0.2 (2026-02-21) âœ¨ **Critical Fix**
- ðŸ› **Outlier í•„í„°ë§ ì™„ì „ ìˆ˜ì •**: 
  - ê·¼ë³¸ ì›ì¸: `aggregateByWorkerOnly()` í•¨ìˆ˜ê°€ ì›ë³¸ ë°ì´í„°ë¥¼ ìž¬ì²˜ë¦¬í•˜ì—¬ outlier í•„í„°ë¥¼ ìš°íšŒ
  - í•´ê²°: `aggregateByWorkerOnly()`ë¥¼ ìˆ˜ì •í•˜ì—¬ ì´ë¯¸ í•„í„°ëœ `workerAgg` ë°ì´í„°ë§Œ ì‚¬ìš©
  - ê²°ê³¼: `aggregateByWorker()`ì—ì„œ ì œê±°ëœ outlierê°€ ì°¨íŠ¸ì™€ ë°´ë“œì— ë‹¤ì‹œ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
  - ì„±ëŠ¥ ê°œì„ : ë¶ˆí•„ìš”í•œ ë°ì´í„° ìž¬ì²˜ë¦¬ ì œê±°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ
- ðŸ“Š **ë°ì´í„° ì¼ê´€ì„± ë³´ìž¥**: 
  - updateReport() â†’ aggregateByWorker() â†’ aggregateByWorkerOnly() pipeline ì „ì²´ì—ì„œ ì¼ê´€ì„± ë³´ìž¥
  - KPIs, Performance Bands, Charts ëª¨ë‘ ë™ì¼í•œ í•„í„°ëœ ë°ì´í„° ì‚¬ìš©
  - í•„í„° ì ìš© ìˆœì„œ: UI í•„í„° â†’ Rework ì œì™¸ â†’ S/T > 0 ê²€ì¦ â†’ Outlier ì œê±°

### v3.0.1 (2026-02-21)
- âœ… **Outlier Threshold í•„í„° Mode ë¶„ë¦¬**:
  - **Work Efficiency ëª¨ë“œ**: Outlier Threshold UI í‘œì‹œ, í•„í„°ë§ í™œì„±í™”
  - **Time Utilization ëª¨ë“œ**: Outlier Threshold UI ìˆ¨ê¹€, í•„í„°ë§ ë¹„í™œì„±í™”
- âœ… **í•„í„°ë§ ë¡œì§ ê°œì„ **: W/O ë ˆë²¨ì—ì„œë§Œ Outlier í•„í„°ë§ ì ìš© (Worker Total ë ˆë²¨ ì œê±°)
- âœ… **ë¡œê·¸ ê°œì„ **: í•„í„°ë§ í†µê³„ ì½˜ì†” ë¡œê·¸ ì¶”ê°€

### v3.0.0 (2026-02-20)
- âœ… **ë‘ ê°€ì§€ ì„±ê³¼ ì§€í‘œ ì‹œìŠ¤í…œ ì¶”ê°€**:
  - **Time Utilization Rate**: ì‹¤ì œ ìž‘ì—… ì‹œê°„ / ê°€ìš© ì‹œê°„ Ã— 100%
  - **Work Efficiency Rate**: í• ë‹¹ í‘œì¤€ ì‹œê°„ / ì‹¤ì œ ìž‘ì—… ì‹œê°„ Ã— 100%
- âœ… **ì§€í‘œ í† ê¸€ ë²„íŠ¼**: ì‹¤ì‹œê°„ ì§€í‘œ ì „í™˜ (ì‹œê³„ ì•„ì´ì½˜ â‡„ ë²ˆê°œ ì•„ì´ì½˜)
- âœ… **ìž‘ì—…ìž ìƒì„¸ ëª¨ë‹¬ ë¶„ê¸° ë¡œì§**: 
  - Time Utilization: ì¼ë³„/ì‹œê°„ë³„ ìž‘ì—… ì‹œê°„, ì¤‘ë³µ ì œê±° í‘œì‹œ
  - Work Efficiency: S/T, Rate, Assigned, Actual, Efficiency ìƒì„¸ í‘œì‹œ
- âœ… **Rework ìžë™ í•„í„°ë§**: W column = trueì¸ ë ˆì½”ë“œ ì œì™¸
- âœ… **Worker S/T > 0 ì¡°ê±´ ì ìš©**: Work Efficiency ëª¨ë“œì—ì„œë§Œ S/T > 0 ë ˆì½”ë“œ ì‚¬ìš©
- âœ… **ì„±ê³¼ ë°´ë“œ ìž¬ì„¤ê³„**: Excellent (>100%), Good (80-100%), Normal (60-80%), Poor (40-60%), Critical (<40%)

---

**ì œìž‘ìž**: twokomi  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-21 (v3.1.0)
